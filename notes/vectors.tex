\documentclass[a4paper,10pt]{article}
\usepackage{mystyle}

\begin{document}

\begin{thm}[Cosine Theorem]
	Given a triangle with vertices $A,B,C$ and respective opposing edges
	$a,b,c$, and edge $b$ along the $x$-axis:
	\[ a^2 = b^2 + c^2 - 2bc\cos\theta \]
\end{thm}

\begin{proof}
	\[
	a = |\vec{BC}| = |-\vec{AC} + \vec{AB}|
	= \left|\begin{pmatrix}-b\\0\end{pmatrix} +
		c\begin{pmatrix}\cos\theta\\\sin\theta\end{pmatrix}\right|
	\]
	\[
	\tf a^2 = (c\cos\theta - b)^2 + c^2\sin^2\theta
	= b^2 + c^2 - 2bc\cos\theta
	\]
\end{proof}

A plane is described by a point and two linearly independent vectors i.e.
\[\mathbf{r}(\lambda, \mu) = \mathbf{a} + \lambda \mathbf{u} + \mu \mathbf{v}\]

A plane can also be expressed in Cartesian form i.e.
\[ax + by + cz = d\]

\begin{ex}
	\[
		\mathbf{r} =
		\begin{pmatrix}
			1\\2\\3
		\end{pmatrix}
		+ \lambda
		\begin{pmatrix}
			1\\1\\1
		\end{pmatrix}
		+ \mu
		\begin{pmatrix}
			2\\1\\0
		\end{pmatrix}
		\, \lambda, \mu \in \RR
	\]
	\[ x = 1 + \lambda + 2\mu \]
	\[ y = 2 + \lambda + \mu \]
	\[ z = 3 + \lambda \]

	\[ \tf \lambda = z - 3, \mu = y - z + 1 \]
	\[ \tf x = 2y - z \tf x - 2y + z = 0 \]
\end{ex}

\begin{ex}[Alternative approach]
	Given a plane $P$ and two points on the plane described from the origin
	as $\mathbf{r}$ and $\mathbf{a}$, if $\mathbf{n}$ is normal to $P$ we
	have:
	\[ (\mathbf{r} - \mathbf{a}) \cdot \mathbf{n} = 0 \]
	\[ \tf \mathbf{r} \cdot \mathbf{n} = \mathbf{a} \cdot \mathbf{n} \]

	We can calculate the normal vector using the cross product:
	\[
		\begin{pmatrix}
			1\\1\\1
		\end{pmatrix}
		\wedge
		\begin{pmatrix}
			2\\1\\0
		\end{pmatrix}
		=
		\begin{pmatrix}
			-1\\2\\-1
		\end{pmatrix}
	\]
	\[ \tf -x + 2y - z = -1 + 4 - 3 \tf x - 2y + z = 0 \]
\end{ex}

% Put this in curves and surfaces?
If $r(t)$ is a parameterisation of a curve, then its length can be calculated
as $ \int_a^b | r'(t) | dt $.

For a surface $z = f(x,y)$, $\mathbf{r} = x\mathbf{i} + y\mathbf{j} +
f(x,y)\mathbf{k}$. This doesn't work for closed surfaces.

% TODO: split into sections

Partial Differentiation

We can find the slope on a surface in different directions by fixing one value.
For example if $z = xy$ and we fix $y$, then $\frac{\partial z}{\partial x} =
y$. We can fix $x$ to obtain a similar result.

\begin{ex}
	\[ f(x,y) = e^{x^2y} \]
	\[ \frac{\partial f}{\partial x} = 2xy e^{x^2y} \]
	\[ \frac{\partial f}{\partial y} = x^2 e^{x^2y} \]
\end{ex}

\begin{ex}
	\[ f(x,y) = x^2 - xy + y^2 \]
	\[ \frac{\partial f}{\partial x} = 2x - y \]
	\[ \frac{\partial ^2 f}{\partial y \partial x} = -1 \]
\end{ex}

\begin{thm}[Chain Rule]
	\[ \frac{d}{dx} f(u(x)) = \frac{df}{du} \frac{du}{dx} \]
\end{thm}

\begin{proof}
	\[ \frac{u(x+h) - u(x)}{h} \to u'(x) as h \to 0 \]
	\[ let v = \frac{u(x+h) - u(x)}{h} - u'(x), v \to 0 as h \to 0 \]
	\[ \implies u(x+h) = u(x) + (u'(x) + v)h \]
	\[ let w = \frac{f(u+k) - f(u)}{k} - f'(u), w \to 0 as k \to 0 \]
	\[ \implies f(u+k) = f(u) + (f'(u) + w)k \]
	\[ \frac{df}{dx} = \frac{f(u(x+h) - f(u(x))}{h} \]
	\[ f(u(x+h) - f(u(x))= f(u(x) + (u'(x)+v)h) - f(u(x))  = (f'(u(x) +
	w)(u'(x) + v), \]
	where $k = (u'(x)+v)h$, $k \to 0$ as $h \to 0$
	\[ \implies \lim_{h \to 0} \frac{f(u(x+h)) - f(u(x))}{h} =
	f'(u(x))u'(x) \]

\end{proof}

\begin{lemma}
	If $z(t) = (x(t), y(t))$ then
	\[ \frac{dz}{dt} = \frac{\partial z}{\partial x}\frac{dx}{dt} +
	\frac{\partial z}{\partial y}\frac{dy}{dt}. \]
\end{lemma}

\begin{proof}
	\[ \frac{dz}{dt} = \frac{z(x(t+h), y(t+h)) - z(x(t), y(t))}{h} \]
	\[ = \frac{z(x(t+h), y(t+h)) - z(x(t), y(t+h))}{h} + \frac{z(x(t),
	y(t+h)) - z(x(t), y(t))}{h} \]

	We now have two differences, one with $y$ fixed and the other with
	$x$ fixed. Applying the chain rule to each one, we obtain:

	\[ \frac{dz}{dt} = \frac{\partial z}{\partial x} x'(t) + \frac{\partial
	z}{\partial y} y'(t) \]
\end{proof}

Tangents

If $\mathbf{r}(t)$ is a point in space, then the vector tangent to it is $r(t) + \lambda
\mathbf{r}'(t)$.

\begin{ex}
	\[
		\mathbf{r}(t) =
		\begin{pmatrix}
			t^2 \\ t^3 \\ t^4
		\end{pmatrix}
		, t \in \RR
	\]
	\[
		\mathbf{r}'(t) =
		\begin{pmatrix}
			2t \\ 3t^2 \\ 4t^3
		\end{pmatrix}
	\]

	At $t=2$ we have:

	\[
		\begin{pmatrix}
			4 \\ 8 \\ 16
		\end{pmatrix}
		+ \lambda
		\begin{pmatrix}
			4 \\ 12 \\ 32
		\end{pmatrix}
		, \lambda \in \RR
	\]
\end{ex}

Similarly, a tangent plane can be described with a vector to the tangent point
and the two partial derivatives.

\[ \mathbf{p} = \mathbf{r}(x_0, y_0)
+ \lambda \frac{\partial \mathbf{r}}{\partial x}(x_0, y_0)
+ \lambda \frac{\partial \mathbf{r}}{\partial y}(x_0, y_0)
, \lambda, \mu \in \RR \]

\begin{ex}
	Find the plane tangent to $x^2 + y^2 + z^2 = 9$ at $(1,2,2)$.

	\[ \mathbf{r} = (x,y,z), z = (9 - x^2 - y^2)^{1/2} \]

	\[ \frac{\partial \mathbf{r}}{\partial x} = (1, 0, \partial z /
	\partial x) \]
	\[ \frac{\partial \mathbf{r}}{\partial y} = (0, 1, \partial z /
	\partial y) \]

	\[ \frac{\partial z}{\partial x} = - \frac{x}{(9-x^2-y^2)^{1/2}} \]
	\[ \frac{\partial z}{\partial y} = - \frac{y}{(9-x^2-y^2)^{1/2}} \]

	Plugging in the values $x=1$ and $y=2$ we obtain:

	\[ \mathbf{p} = (1,2,2) + \lambda (1, 0, -1/2) + \mu (0, 1, -1) \]
\end{ex}

\begin{ex}
	Find the plane tangent to $z = 1 - 1/4 x^2 - y^2$ at $(1,1/2,1/2)$.

	\[ \frac{\partial z}{\partial x} = -1/2 x \]
	\[ \frac{\partial z}{\partial y} = -2y \]

	Plugging in the values $x=1$ and $y=1/2$ we obtain:

	\[ \mathbf{p} = (1,1/2,1/2) + \lambda (1, 0, -1/2) + \mu (0, 1, -1) \]
\end{ex}

Directional Derivatives

Let $\mathbf{r} = \left(x_0 + tn_1, y_0 + tn_2, z(x_0 + tn_1, y_0 +
tn_2)\right)$ describe a curve in the plane, where $\mathbf{n} = (n_1, n_2)$ is
the direction vector and $t \in \RR$.

\[ \frac{d\mathbf{r}}{dt} = \left(n_1, n_2, n_1 \frac{\partial z}{\partial x}
(x_0 + tn_1, y_0 + tn_2) + n_2 \frac{\partial z}{\partial x} (x_0 + tn_1, y_0 +
tn_2)\right) \]

Given that the gradient of a curve can be expressed as $\frac{z}{\sqrt{x^2 +
y^2}}$,

\[ \frac{\frac{\partial z}{\partial x} n_1 + \frac{\partial z}{\partial y}
n_2}{\sqrt{n_1^2 + n_2^2}} \]

Hence the slope on the surface $z$ in the direction of $n$ is given by:

\[ \bigtriangledown z \mathbf{\hat{n}} \]

\begin{ex}
	\[ z(x,y) = 4 - x^2 - y^2, n = (1,1) \]
	\[ \bigtriangledown z = (-2x, -2y) = (-2, -2) \]
	\[ \mathbf{\hat{n}} = \frac{\sqrt{2}}{2} (1,1) \]
	\[ \bigtriangledown z \mathbf{\hat{n}} = \frac{-4}{\sqrt{2}}
	   = -2 \sqrt{2} \]
\end{ex}

\begin{ex}
	$f(x,y,z) = e^{xyz}$ at $(2,-1,2)$ with $n = (1,1,1)$
	\[ \bigtriangledown f = (yze^{xyz}, xze^{xyz}, xye^{xyz})
		= (-2e^{-4}, 4e^{-4}, -2^{-4}) \]
	\[ \mathbf{\hat{n}} = 1/\sqrt{3}(1,1,1) \]
	\[ \bigtriangledown f \cdot \mathbf{\hat{n}} = 1/\sqrt{3}(-2e^{-4} +
	4e^{-4} - 2e^{-4}) = 0 \]
\end{ex}

Greatest Slope

\[ \bigtriangledown z \cdot \mathbf{\hat{n}} = |\bigtriangledown
z||\mathbf{\hat{n}}|\cos \theta \]

In order to maximise this, we let $\cos \theta = 1$ and given that
$\mathbf{\hat{n}}$ is a unit vector, the greatest slope is $|\bigtriangledown
z|$. Therefore, the direction of the greatest slope is in the direction of
$\bigtriangledown z$, since $|a|^2 = a \cdot a$.

\begin{ex}
	$z(x,y) = 4 - x^2 - y^2$ at $(1,1)$
	\[ \bigtriangledown z = (-2,-2) \]
	\[ |\bigtriangledown z| = 2\sqrt{2} \]
\end{ex}

Volume under a surface

Let $f(x,y)$ be a surface, the volume underneath it is
\[ v = \int_a^b \int_{x_1(y)}^{x_2(y)} f(x,y) dx dy \]

\begin{ex}
	$z = x^2y^3$ above the region bound by $y=1$, $x=4$, and $y=\sqrt{x}$.

	\[ v = \int_1^4 \int_1^{\sqrt{x}} x^2y^3 dy dx \]
	\[ = 1/4 \int_1^4 \left[ x^2y^4 \right]_1^{\sqrt{x}} \]
	\[ = 1/4 \int_1^4 x^4 - x^2 dx \]
	\[ = 1/4 \left[ 1/5 x^5 - 1/3 x^3 \right]_1^4 \]
	\[ = 1024/20 - 64/12 - 1/20 + 1/12 = 45.9 \]

	This can also be calculated by integrating first with respect to $x$.

	\[ v = \int_1^2 \int_{y^2}^4 x^2y^3 dxdy \]
	\[ = 1/3 \int_1^2 \left [x^3y^3 \right]_{y^2}^4 dy \]
	\[ = 1/3 \int_1^2 64y^3 - y^9 dy \]
	\[ = 1/3 \left[ 16y^4 - 1/10 y^10 \right]_1^2 \]
	\[ = 1/3 \left( 256 - 1024/10 - 16 + 1/10 \right) = 45.9 \]

\end{ex}

Polar Coordinates

When changing coordinate system, we have to take into account how that affects
differentiation and integration.

Let $\mathbf{r}(x,y) = x \mathbf{i} + y \mathbf{j}$. A change of $dx$ and $dy$
would give:

\[ (x + dx)\mathbf{i} + y\mathbf{j} - (x\mathbf{i} + y\mathbf{j}) =
dx\mathbf{i} \]
\[ x\mathbf{i} + (y + dy)\mathbf{j} - (x\mathbf{i} + y\mathbf{j}) =
dy\mathbf{j} \]

The differential area can be calculated using the cross product (think about
the area of a parallelogram). Given that $dx$ and $dy$ are just scalars, and
$\mathbf{i}$ and $\mathbf{j}$ are orthogonal unit vectors:

\[ |dx\mathbf{i} \times dy\mathbf{j}| = |dxdy\mathbf{k}| = dxdy \]

Now lets see how things change when we switch to polar coordinates. Let
$\mathbf{f}(r,\theta) = r\cos\theta\mathbf{i} + r\sin\theta\mathbf{j}$.

A change by $dr$ yields:
\[ (r+dr)\cos\theta\mathbf{i} + (r+dr)\sin\theta\mathbf{j} -
r\cos\theta\mathbf{i} - r\sin\theta\mathbf{j} \]
\[ = dr(\cos\theta\mathbf{i} + \sin\theta\mathbf{j} \]

A change by $d\theta$ yields:
\[ r\cos(\theta + d\theta)\mathbf{i} + r\sin(\theta + d\theta)\mathbf{j} -
r\cos\theta\mathbf{i} - r\sin\theta\mathbf{j} \]
\[ = r\left(\cos(\theta + d\theta) - \cos(\theta)\right)\mathbf{i}
+ r\left(\sin(\theta + d\theta) - \sin(\theta)\right)\mathbf{j} \]

Given that:
\[ \frac{d}{d\theta} \cos\theta = \frac{\cos(\theta + d\theta) -
\cos\theta}{d\theta} \]

We find that a change by $d\theta$ is simply:
\[ -r\sin(\theta)d\theta \mathbf{i} + r\cos(\theta)d\theta \mathbf{j} \]

Now we compute the full differential area:
\[ | dr(\cos\theta \mathbf{i} + \sin\theta \mathbf{j}) \wedge
d\theta(-r \sin\theta \mathbf{i} + r\cos\theta \mathbf{j} | \]
\[ = | r\cos^2\theta + r\sin^2\theta | drd\theta = rdrd\theta \]

\end{document}
